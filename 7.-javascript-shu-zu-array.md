# 7. JavaScript数组\(array\)

**1. JavaScript数组概念**

数组\(array\)是一种特殊的变量\(special variable\)， 可以用一个数组名存放一个或存放很多值，然后通过索引\(index\)来访问\(access\)这些值。  创建数组的方法很简单， 可以用var = name \[“ ”, “ ”, “ “\]; 来创建，也可以用关键词new 来创建，var name = new Array\(“ ”, “ ”, “ ” \);    期中，new Array\(\)也是JavaScript的内置数组构造器\(built-in array constructor\)，这两个方法效果完全一样。  如果从简单\(simplicity\)，可读性\(readability\)和执行速度\(speed\)来考虑， 使用第一种方法。  没有必要使用new Array\(\)。  用\[ \]代替，因为new关键词只会使代码复杂化\(complicate\)， 还会产生某些不可预测的结果\(unpredictable result\)。

**1.1** **常用的数座操作**

**1.1.1**  **遍历数组元素**

遍历数组的最安全方法是使用 "for" 循环：

**1.1.2** **添加数组元素**

向数组添加新元素的最佳方法是使用 push\(\) 方法：

**1.1.3** **关联数组**

很多编程元素支持命名索引的数组,具有命名索引的数组被称为关联数组（或散列）。

JavaScript 不支持命名索引的数组。  在 JavaScript 中，数组只能使用数字索引。  假如您使用命名索引，JavaScript 会把数组重定义为标准对象。

**2. JavaScript数组是对象\(object\)**

数组是一种特殊类型\(special type\)的对象，JavaScript数组最好用数组来描述。  在 JavaScript 中对数组使用 typeof 运算符会返回 "object"。   JavaScript 数组的真实力量隐藏在数组的属性和方法中。  数组使用数字来访问其元素, 例如数组名字是var = name \[“ ”, “ ”, “ “\];，如果想返回\(return\)数组中的第一对引号中的值，请用name\[0\]方法来索引。  而对象是不一样的，对象使用名称\(name\)来访问对象属性。  通过 JavaScript，可通过引用数组名来访问完整数组。  数组使用数字索引。  对象使用命名索引。  数组是特殊类型的对象，具有数字索引。

**2.1** **数组元素可以是对象**

JavaScript 变量可以是对象，您可以在相同数组中存放不同类型的变量。  您可以在数组保存对象，您可以在数组中保存函数， 你甚至可以在数组中保存数组。

**3.** **什么时候使用对象，什么时候使用数组？**

如果希望元素名\(element name\)为字符串（文本）应该使用对象，如果希望元素名为数字应该使用数组  ，注意JavaScript不支持关联数组\(associative array\)。

**4.** **如何识别数组**

**解决方案** **1：**

ECMAScript 5 定义了新方法 Array.isArray\(\)：

**解决方案** **2：**

创建您自己的 isArray\(\) 函数

**解决方案** **3**：

假如对象由给定的构造器创建，则 instanceof 运算符返回 true.

**5. JavaScript** **数组排序**

**5.1 sort\(\)** **方法**

sort\(\) 方法以字母顺序对数组进行排序。

**5.2反转数组**

reverse\(\) 方法反转数组中的元素, 您可以使用它以降序对数组进行排序。

**5.3数字排序**

默认地，sort\(\) 函数按照字符串顺序对值进行排序。  该函数很适合字符串，"Apple" 会排在 "Banana" 之前。  不过，如果数字按照字符串来排序，则 "25" 大于 "100"，因为 "2" 大于 "1"。

正因如此，sort\(\) 方法在对数值排序时会产生不正确的结果。可以通过比值函数来修正。

**5.4比值函数**

比较函数的目的是定义另一种排序顺序。  比较函数应该返回一个负，零或正值，这取决于参数。

当 sort\(\) 函数比较两个值时，会将值发送到比较函数，并根据所返回的值（负、零或正值）对这些值进行排序。

**5.5以随机顺序排序数组**

查找最高（或最低）的数组值。  JavaScript 不提供查找数组中最大或最小数组值的内建函数。  不过，在对数组进行排序之后，您能够使用索引来获得最高或最低值。

**5.6** **对数组使用** **Math.max\(\)**

您可以使用 Math.max.apply 来查找数组中的最高值。

**5.7对数组使用** **Math.min\(\)**

您可以使用 Math.min.apply 来查找数组中的最低值。

**5.8排序对象数组**

JavaScript 数组经常会包含对象，即使对象拥有不同数据类型的属性，sort\(\) 方法仍可用于对数组进行排序。  解决方法是通过比较函数来对比属性值。

**6. JavaScript数组迭代**

数组迭代方法对每个数组项进行操作。

**6.1 Array.forEach\(\)**

forEach\(\) 方法为每个数组元素调用一次函数（回调函数）。

**6.1 Array.map\(\)**

map\(\) 方法通过对每个数组元素执行函数来创建新数组，不会对没有值的数组元素执行函数，不会更改原始数组。

**6.2 Array.filter\(\)**

filter\(\) 方法创建一个包含通过测试的数组元素的新数组。

**6.2 Array.reduce\(\)**

reduce\(\) 方法在每个数组元素上运行函数，以生成（减少它）单个值， 在数组中从左到右工作。另请参见 reduceRight（）。           reduce\(\) 方法不会减少原始数组。

**6.3** **总数（初始值/先前返回的值）**

**6.4** **数组本身**

如果回调函数仅使用第一个参数（值）时，可以省略其他参数。

**7. JavaScript** **数组方法**

JavaScript 数组的力量隐藏在数组方法中。

**7.1把数组转换为字符串**

JavaScript 方法 toString\(\) 把数组转换为数组值（逗号分隔）的字符串。  join\(\) 方法也可将所有数组元素结合为一个字符串。  它的行为类似 toString\(\)，但是您还可以规定分隔符

**7.2 Popping** **和** **Pushing**

在处理数组时，删除元素和添加新元素是很简单的。  Popping 和 Pushing 指的是：从数组弹出项目，或向数组推入项目。

pop\(\) 方法从数组中删除最后一个元素。  push\(\) 方法在数组结尾处向数组添加一个新的元素。

**7.3** **位移元素**

位移与弹出等同，但处理首个元素而不是最后一个。 shift\(\) 方法会删除首个数组元素，并把所有其他元素“位移”到更低的索引。  unshift\(\) 方法（在开头）向数组添加新元素，并“反向位移”旧元素：

**7.4** **索引元素**

通过使用它们的索引号来访问数组元素，数组索引（下标）以 0 开始。\[0\] 是第一个数组元素，\[1\] 是第二个，\[2\] 是第三个 ...

length 属性提供了向数组追加新元素的简易方法。

**7.5** **删除元素**

既然 JavaScript 数组属于对象，其中的元素就可以使用 JavaScript delete 运算符来删除。  使用 delete 会在数组留下未定义的空洞。请使用 pop\(\) 或 shift\(\) 取而代之。

**7.6拼接数组**

splice\(\) 方法可用于向数组添加新项。  使用 splice\(\) 来删除元素，通过聪明的参数设定，您能够使用 splice\(\) 在数组中不留“空洞”的情况下移除元素：

**7.7合并（连接）数组**

concat\(\) 方法通过合并（连接）现有数组来创建一个新数组：

concat\(\) 方法不会更改现有数组。它总是返回一个新数组。

concat\(\) 方法可以使用任意数量的数组参数：

concat\(\) 方法也可以将值作为参数：

**7.8** **裁剪数组**

该方法会从开始参数选取元素，直到结束参数（不包括）为止。

**7.9数组排序**

**7.10** **查找数组中的最大和最小值**

没有在 JavaScript 数组中查找最高和最低值的内建函数。

